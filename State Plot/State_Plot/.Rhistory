shiny::runApp()
runApp()
runApp()
#importing data from Johns Hopkins Github
library(httr)
rawcases <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv"))
rawdeaths <-read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv"))
uscases <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv"))
usdeaths <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_US.csv"))
#old csv import as a backup
#rawcases <- read.csv("C:\\Users\\Stvma\\Documents\\GitHub\\Covid-19-Analysis\\Copy of time_series_covid_19_confirmed_4_8.csv",header=TRUE)
#rawdeaths <- read.csv("C:\\Users\\Stvma\\Documents\\GitHub\\Covid-19-Analysis\\Copy of time_series_covid_19_deaths_4_8_update.csv",header=TRUE)
rawcases <- rawcases[,-c(3:4)]
rawdeaths <- rawdeaths[,-c(3:4)]
uscases <- uscases[,-c(1:5,8:11)]
usdeaths <- usdeaths[,-c(1:5,8:12)]
View(uscases)
location <- as.character(uscases$admin2)
location
location <- as.character(uscases$Admin2)
location
runApp('~/GitHub/Covid-19-Analysis/Town Plot/City_Count_Plots')
runApp('~/GitHub/Covid-19-Analysis/Town Plot/City_Count_Plots')
uscases <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv"))
View(uscases)
uscases <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv"))
usdeaths <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_US.csv"))
uscases <- uscases[,-c(1:5,8:10)]
usdeaths <- usdeaths[,-c(1:5,8:10),12]
View(usdeaths)
uscases <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_US.csv"))
usdeaths <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_US.csv"))
uscases <- uscases[,-c(1:10)]
usdeaths <- usdeaths[,-c(1:10,12)]
View(usdeaths)
View(usdeaths)
runApp('~/GitHub/Covid-19-Analysis/Town Plot/City_Count_Plots')
runApp('~/GitHub/Covid-19-Analysis/Town Plot/City_Count_Plots')
n <- ncol(uscases)-1
date <- 1:n
date <- as.Date(date,origin = "2020-01-21")
date
cases <- rep(0,n)
newcases <- rep(0,n)
deaths <- rep(0,n)
newdeaths <- rep(0,n)
towncase <- uscases[which(uscases$Combined_Key==location),]
towndeath <- usdeaths[which(uscases$Combined_Key==location),]
towncase <- uscases[which(uscases$Combined_Key==location),]
towndeath <- usdeaths[which(usdeaths$Combined_Key==location),]
View(uscases)
location = 	American Samoa, US
location="American Samoa, US"
towncase <- uscases[which(uscases$Combined_Key==location),]
towndeath <- usdeaths[which(usdeaths$Combined_Key==location),]
towncase <- as.numeric(uscases[which(uscases$Combined_Key==location),])
towndeath <- as.numeric(usdeaths[which(usdeaths$Combined_Key==location),])
for (i in 1:n){
cases[i] <- sum(towncase[i+1])
deaths[i] <- sum(towndeath[i+1])
if (i > 1){
newcases[i] <- cases[i] - cases[i-1]
newdeaths[i] <- deaths[i] - deaths[i-1]
}
}
plot(date,cases,main=main1,ylab="cases",type="o")
main1 <- paste("Total Cases in:",location,date[n])
plot(date,cases,main=main1,ylab="cases",type="o")
runApp('~/GitHub/Covid-19-Analysis/Town Plot/City_Count_Plots')
plot(date,cases)
runApp('~/GitHub/Covid-19-Analysis/Town Plot/City_Count_Plots')
